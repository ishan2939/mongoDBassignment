<%- include('./includes/head.ejs') %><!-- include head -->
    <link rel="stylesheet" href="http://localhost:3000/public/catalog.css"><!-- catalog CSS -->
    </head><!-- head ends here -->

    <body><!-- body starts here -->

        <div class="container"><!-- container starts here -->

            <%- include('./includes/navbar.ejs') %><!-- navbar starts here -->

                <div class="content"><!-- content starts here -->

                    <div class="header"><!-- header -->
                        ðŸ“ƒ Catalog ðŸ“ƒ
                    </div>

                    <div class="body"><!-- body -->

                        <% for(let r of response) { %>

                            <div class="category"><!-- category name -->
                                <%= r.category %>
                            </div>

                            <div class="products"><!-- products in those categories -->

                                <ul>
                                    <% for(let p of r.products) {%>

                                        <li>

                                            <div class="image"><!-- product icon -->
                                                <div class="icon">
                                                    <%= p.icon %>
                                                </div>
                                            </div>

                                            <div class="details"><!-- product details -->

                                                <div class="name"><!-- product name -->
                                                    <%= p.name %>
                                                </div>

                                                <div class="price">

                                                    <div class="cart"><!-- add to cart -->
                                                        <a href="/addtocart?id=<%= p.p_id %>&route=catalog">
                                                            <svg stroke="#fff" fill="#fff" stroke-width="0"
                                                                viewBox="0 0 20 20" height="1em" width="1em"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <path
                                                                    d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z">
                                                                </path>
                                                            </svg>
                                                        </a>
                                                    </div>

                                                    $<%= p.price %><!-- product price -->

                                                    <a href="/product/<%= p.p_id %>" title="product details"><!-- link to product details -->

                                                        <svg stroke="#eeca89" fill="#eeca89" stroke-width="0"
                                                            viewBox="0 0 256 512" height="1em" width="1em"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z">
                                                            </path>
                                                        </svg>
                                                    </a>

                                                </div>

                                            </div><!-- details end here -->
                                        </li>
                                    <%}%>
                                </ul>

                            </div><!-- products div ends here -->

                        <% } %>

                    </div><!-- body ends here -->

                </div><!-- content ends here -->

        </div><!-- container ends here -->

    </body><!-- body ends here -->

</html><!-- html ends here -->